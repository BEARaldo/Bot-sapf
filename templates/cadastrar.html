{% extends 'padrao/navbar.html' %}
{% block navbar %}
{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastre-se</title>
    <link rel="stylesheet" href="{% static 'usuario/css/cadastro.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" 
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
        <div class="container-fluid">
            <div class="box">
                <div id="quadradin">
                    <div class="cadastrese">Cadastre-se!</div>
                </div>
                
                    <form class="formulario" action="{% url 'cadastrar_url' %}" method="POST">
                        {% csrf_token %}
                        Nome:
                        <input name="nome_completo" type="text" placeholder="Nome Completo" id="nome">
                        <br>
                        Título de Eleitor:
                        <input name="titulo_eleitor" type="text" placeholder="Título de Eleitor" id="Titueleitor">
                        <br>
                        CPF:
                        <input name="cpf" type="text" placeholder="CPF" id="cpf">
                        <br>
                        Nome Completo do Partido:
                        <input name="nome_do_partido" type="text" placeholder="Nome Completo do Partido" id="partido">
                        <br>
                        Senha:
                        <input name="password" type="password" placeholder="Senha" id="senha">
                        <input id="ver_senha" type="checkbox" onclick="togglePasswordVisibility()"> ver senha
                        <div id="div_botao">
                            <input type="submit" value="Cadastrar" class="botao_cadastrar">
                        </div>
                    </form>

            </div>
            
        </div>

        <script>
            document.getElementById('cpf').addEventListener('input', function (e) {
                var cpf = e.target.value.replace(/\D/g, ''); // Remove todos os caracteres não numéricos
                if (cpf.length > 0) {
                    cpf = cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4'); // Formata o CPF
                }
                if (cpf.length > 14) {
                    cpf = cpf.substring(0, 14); // Limita a 14 caracteres
                }
                e.target.value = cpf;
            });

            
            document.querySelector('form').addEventListener('submit', function () {
                document.getElementById('tudo').style.display = 'block';
            });
            function togglePasswordVisibility() {
                    var passwordInput = document.getElementById("senha");
                    if (passwordInput.type === "password") {
                        passwordInput.type = "text";
                    } else {
                        passwordInput.type = "password";
                    }
                }
        </script>

</body>
</html>
{% endblock %}